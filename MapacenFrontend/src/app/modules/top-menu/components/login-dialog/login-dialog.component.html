<div class="mainColor container">
  <h1
    mat-dialog-title
    class="title"
  >
    Logowanie
  </h1>
  <div *ngIf="login; else register">
    <form [formGroup]="loginForm">
      <div mat-dialog-content>
        <div class="fix backgroundColor">
          <my-input
            controlName="email"
            type="email"
            label="E-mail"
          >
          </my-input>
        </div>
        <div class="fix backgroundColor">
          <my-input
            controlName="password"
            type="text"
            label="Hasło"
          >
          </my-input>
        </div>
      </div>
    </form>
  </div>
  <ng-template #register>
    <form [formGroup]="registerForm">
      <div mat-dialog-content>
        <div class="fix backgroundColor">
          <my-input
            controlName="email"
            type="email"
            label="E-mail"
          >
          </my-input>
        </div>
        <div class="fix backgroundColor">
          <my-input
            controlName="userName"
            type="text"
            label="Nazwa użytkownika"
          >
          </my-input>
        </div>
        <mat-form-field
          appearance="outline"
          class="backgroundColor fix"
        >
          <mat-label>Powiat</mat-label>
          <input
            type="text"
            placeholder="Wybierz powiat"
            matInput
            [formControl]="myCountyControl"
            [matAutocomplete]="powiat"
          >
          <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
          <mat-autocomplete #powiat="matAutocomplete">
            <mat-option
              *ngFor="let option of filteredCounties | async"
              [value]="option"
              (onSelectionChange)="selectedCounty(option)"
            >
              {{ option }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <div class="fix backgroundColor">
          <my-input
            controlName="password"
            type="text"
            label="Hasło"
          >
          </my-input>
        </div>
        <div class="fix backgroundColor">
          <my-input
            controlName="passwordAgain"
            type="text"
            label="Powtórz hasło"
          >
          </my-input>
        </div>
      </div>
    </form>
  </ng-template>
  <div class="position">
    <button
      class="button"
      mat-stroked-button
      (click)="handleFormSubmit()"
    >
      <span *ngIf="!login">
        Zarejestruj się
      </span>
      <span *ngIf="login">
        Zaloguj się
      </span>
    </button>
  </div>
  <div class="position--gap"></div>
  <hr>
  <div class="position position--gap">
    <span *ngIf="login">
      Nie masz konta w serwisie?
    </span>
    <span *ngIf="!login">
      Masz już konto?
    </span>
    <button
      class="changeButton"
      mat-stroked-button
      (click)="change()"
    >
      <span *ngIf="login">
        Zarejestruj się
      </span>
      <span *ngIf="!login">
        Zaloguj się
      </span>
    </button>
  </div>
</div>